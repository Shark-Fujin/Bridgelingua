/* ===== 1024px — 平板 ===== */
@media (max-width: 1024px) {
  .lexicon-layout { grid-template-columns: 180px 1fr; }
  .lexicon-layout .entry-detail { display: none; }
  .library-layout { grid-template-columns: 200px 1fr; }

  .page-container { padding: 16px; }
  .settings-row { grid-template-columns: 160px 1fr; }
}

/* ===== 768px — 手机横屏 / 大屏手机 ===== */
@media (max-width: 768px) {
  /* 侧边栏滑入 */
  .sidebar {
    position: fixed; left: 0; top: 0; bottom: 0;
    transform: translateX(-100%); z-index: 1000;
    transition: transform 0.3s ease;
  }
  .sidebar.open { transform: translateX(0); }
  .sidebar-overlay {
    position: fixed; inset: 0; z-index: 999;
    background: rgba(0,0,0,0.4);
  }
  .menu-toggle { display: block; }
  .page-container { margin-left: 0; }

  /* 布局降级 */
  .library-layout { grid-template-columns: 1fr; }
  .library-layout .folder-sidebar { display: none; }
  .lexicon-layout { grid-template-columns: 1fr; }
  .lexicon-layout .dict-sidebar {
    border-radius: var(--radius-md);
    overflow: visible;
    height: auto;
  }
  .lexicon-layout .dict-sidebar .dict-list {
    max-height: 120px;
    overflow-y: auto;
  }
  .lexicon-layout .dict-sidebar .dict-share { display: none; }
  .lexicon-layout .entry-detail { display: none; }
  .settings-layout { grid-template-columns: 1fr; }
  .settings-nav { display: none; }

  .dual-column { grid-template-columns: 1fr; }
  .lang-selector-row { flex-direction: column; }
  .lang-swap-btn { transform: rotate(90deg); }
  .settings-row { grid-template-columns: 1fr; }
  .model-row { flex-direction: column; }

  .quick-entry-panel { width: 100%; max-width: 100vw; border-radius: 0; height: 100vh; max-height: 100vh; }

  /* StatusBar 换行 */
  .status-bar { flex-wrap: wrap; }
  .status-bar a { flex-basis: 100%; }

  /* 上传 / 录音 */
  .upload-zone { padding: 24px; }
  .record-btn { width: 64px; height: 64px; font-size: 24px; }

  /* 播放器换行，进度条独占一行 */
  .inline-player { flex-wrap: wrap; }
  .progress-bar { flex-basis: 100%; order: 10; }

  /* 双栏表头 & 段落 */
  .dual-col-header { font-size: 11px; padding: 8px 12px; }
  .segment-cell { padding: 10px 12px; font-size: 13px; }

  /* 文件表格横向滚动 */
  .file-table { overflow-x: auto; }

  /* 文件详情网格 */
  .file-detail-grid { grid-template-columns: repeat(auto-fill, minmax(140px, 1fr)); }

  /* 表单降为单列 */
  .form-grid { grid-template-columns: 1fr; }
  .entry-form-inline .form-row { grid-template-columns: 1fr; }
  .contribute-form .form-row { grid-template-columns: 1fr; }

  /* 设置区块 */
  .settings-section-body { padding: 14px; }
  .settings-section-header { flex-wrap: wrap; }
  .radio-group { flex-wrap: wrap; }
}

/* ===== 480px — 小屏手机 ===== */
@media (max-width: 480px) {
  /* 全局容器 */
  .page-container { padding: 10px; }

  /* 顶栏 */
  .topbar { height: 48px; padding: 0 12px; }
  .topbar-title { font-size: 13px; }
  .topbar-btn {
    font-size: 0;          /* 隐藏文字 */
    min-width: 44px; min-height: 44px;
    padding: 0; justify-content: center;
  }
  .topbar-btn span[aria-hidden="true"] { font-size: 18px; }
  .topbar-btn svg,
  .topbar-btn .icon,
  .topbar-btn [class*="icon"] { font-size: 16px; }

  /* StatusBar */
  .status-bar { font-size: 12px; padding: 6px 12px; }

  /* 卡片 */
  .card-body { padding: 14px; }

  /* 语言选择器 */
  .lang-selector-input { padding: 12px 14px; }

  /* 上传 / 录音 */
  .upload-zone { padding: 20px; }
  .upload-zone .upload-icon { font-size: 28px; }
  .record-btn { width: 56px; height: 56px; font-size: 22px; }

  /* 转写按钮全宽 */
  .transcribe-btn { width: 100%; padding: 14px; }

  /* 结果区 */
  .results-header h3 { font-size: 13px; }

  /* 双栏表头 & 段落 */
  .dual-col-header { font-size: 10px; }
  .segment-cell { padding: 8px 10px; font-size: 12.5px; }

  /* 模态框底部吸附 */
  .modal-overlay { align-items: flex-end; }
  .modal,
  .modal-container {
    width: 100vw; max-width: 100vw;
    border-radius: 12px 12px 0 0;
    max-height: 90vh;
  }
  .modal-body { padding: 14px; }

  /* 按钮触控目标 */
  .btn { min-height: 44px; }

  /* 操作栏 */
  .action-bar { flex-direction: column; }
  .action-bar .btn { width: 100%; justify-content: center; }

  /* 文件工具栏 */
  .file-toolbar { flex-direction: column; align-items: stretch; }
  .file-search { min-width: 0; }
  .toolbar-actions { margin-left: 0; }

  /* 设置 */
  .settings-row label { font-weight: 600; margin-bottom: 4px; }
  .settings-section-body { padding: 12px; }

  /* 单选项触控友好 */
  .radio-option { padding: 10px 14px; }

  /* 开关行间距 */
  .toggle-switch { margin: 4px 0; }

  /* 社区搜索栏 */
  .community-search-bar { flex-wrap: wrap; }

  /* 筛选按钮 */
  .filter-btn { min-height: 36px; }

  /* 右键菜单触控 */
  .context-menu-item { padding: 12px 16px; }
}
